â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Lab IAM Setup - Instructor Summary                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SETUP COMPLETED: December 16, 2025
EXPIRES: December 23, 2025

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
WHAT WAS CREATED
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… IAM Policy: AppDynamicsLabStudentPolicy
   ARN: arn:aws:iam::314839308236:policy/AppDynamicsLabStudentPolicy
   Permissions: Restricted EC2, ELB, Route53, ACM (read-only)
   Restrictions: us-west-2 only, specific instance types

âœ… IAM User: lab-student
   ARN: arn:aws:iam::314839308236:user/lab-student
   Policy: AppDynamicsLabStudentPolicy (attached)

âœ… Access Keys: AKIA**************** (REDACTED)
   Status: Active
   Created: 2025-12-16

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
FILES CREATED
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“„ STUDENT_CREDENTIALS.txt
   â†’ Share this file with ALL students
   â†’ Contains setup instructions and credentials
   â†’ Formatted for easy distribution

ğŸ“„ lab-student-credentials.json
   â†’ Raw JSON output from AWS
   â†’ Keep this secure (backup)
   â†’ DO NOT share this directly

ğŸ“„ DELETE_LAB_USER.sh
   â†’ Run this after December 23, 2025
   â†’ Deletes user, keys, and policy
   â†’ Safe to run (prompts for confirmation)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
NEXT STEPS FOR INSTRUCTOR
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. DISTRIBUTE CREDENTIALS TO STUDENTS:
   
   Option A: Print STUDENT_CREDENTIALS.txt and hand out in class
   Option B: Share file via secure method (not email!)
   Option C: Display on screen for students to copy

2. VERIFY PREREQUISITES EXIST:
   
   âœ“ Route 53 Hosted Zone: splunkylabs.com
   âœ“ ACM Certificate: *.splunkylabs.com (us-west-2)
   âœ“ AMI: AppDynamics lab image (ami-xyz...)

3. HAVE STUDENTS TEST ACCESS:
   
   Students should run:
   - aws configure (enter credentials)
   - aws sts get-caller-identity
   - ./scripts/check-prerequisites.sh

4. MONITOR USAGE DURING LAB:
   
   Check what students are creating:
   aws ec2 describe-instances \
     --filters "Name=tag:Team,Values=team*" \
     --query 'Reservations[*].Instances[*].[Tags[?Key==`Name`].Value|[0],State.Name,InstanceType]' \
     --output table

5. AFTER LAB ENDS (Dec 23+):
   
   Delete IAM access:
   ./DELETE_LAB_USER.sh

   Verify all student resources are cleaned up:
   aws ec2 describe-instances \
     --filters "Name=tag:Team,Values=team*" \
     --query 'Reservations[*].Instances[*].State.Name'

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
SECURITY NOTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Students CANNOT:
   - Create/modify IAM resources
   - Access your admin resources
   - Launch resources outside us-west-2
   - Launch unapproved instance types
   - Access billing information

âœ… Students CAN:
   - Deploy lab infrastructure (VPC, EC2, ALB)
   - Create DNS records in existing zone
   - View ACM certificates (read-only)
   - Deploy up to 5 teams (team1-team5)

âš ï¸  All students share the same credentials
âš ï¸  Resources are isolated by team tags
âš ï¸  Each team uses separate VPC and resources

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

If a student gets "Access Denied" errors:

1. Verify they configured credentials correctly:
   aws sts get-caller-identity
   # Should show: lab-student user

2. Check if they're in the right region:
   aws configure get region
   # Should show: us-west-2

3. Check if policy is attached:
   aws iam list-attached-user-policies --user-name lab-student

4. Verify the operation is allowed in iam-student-policy.json

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
QUICK COMMANDS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Check user status
aws iam get-user --user-name lab-student

# List all access keys
aws iam list-access-keys --user-name lab-student

# Deactivate keys (don't delete yet)
aws iam update-access-key --user-name lab-student \
  --access-key-id AKIA**************** --status Inactive

# Reactivate keys if needed
aws iam update-access-key --user-name lab-student \
  --access-key-id AKIA**************** --status Active

# Delete everything (use script instead)
./DELETE_LAB_USER.sh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

For questions or issues, see:
- docs/IAM_REQUIREMENTS.md (detailed policy documentation)
- docs/iam-student-policy.json (policy JSON)
- START_HERE.md (student deployment guide)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
